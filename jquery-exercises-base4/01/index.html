<!-- <!DOCTYPE html>
<html>
<head>
  <title>  </title>
  <style>

  #container {
    text-align: center;
  }



  #listo {
    margin-top: 100px;
padding: 20px;
text-align: center;
  }


  #listo li{
    list-style: none;
    display: inline;
    margin : 10px;
    border: 2px solid green;
    padding: 20px;
    font-weight: bold;
  }


  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
<div id="container">

<ul id="listo">
  <li>Pierre </li>
  <li>Feuille </li>
  <li>Ciseaux </li>
</ul>

<button id="shifumi"> Shifumi ! </button>

<p id="voctoire"> </p>

</div>
  <script type="text/javascript">
$(document).ready(){
$()
}
  </script>
</body>
</html> -->


<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    form{
        margin: 20px 0;
    }
    form input, button{
        padding: 5px;
    }
    table{
        width: 30%;
        margin-bottom: 20px;
    border-collapse: collapse;
    }
    table, th, td{
        border: 1px solid #cdcdcd;
    }
    table th, table td{
        padding: 10px;
        text-align: left;
    }

  </style>
  <title>Exercice 1</title>
  <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
</head>
<body>
 <span id="info"></span>
 <h1>Faites votre choix !!!</h1>
 <form id="myForm">
  <input type="radio" name="choice" value="#find1"  checked><span  id="find1">Pierre</span><br />
  <input type="radio" name="choice" value="#find2"><span  id="find2">Feuille</span><br />
  <input type="radio" name="choice" value="#find3"><span  id="find3">Ciseaux</span>
</form>
    <button id="shifumi">Shifumi !</button>
    <h1 id="tableTitle">Tableau des gains</h1>
    <table id="tablewin">
        <thead>
            <tr>
                <th>Machine</th>
                <th>Joueur</th>
                <th>Gain</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
    <div id="percentage">

    </div>
    <div id="nbwin">

    </div>
    <div id="nbloose">

    </div>


    <script type="text/style">
    $( document ).ready(function() {
        function getRandomIntInclusive(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min +1)) + min;
        }
        $( "#shifumi" ).click(function() {
                var findNumber=getRandomIntInclusive(1,3);
                var idFind='#find'+findNumber;
                var idChecked=$('input[name=choice]:checked', '#myForm').val();
                if(idFind==idChecked)
                {
                    $('#info').html('Vous avez gagné la partie en cours.');
                    var markup = "<tr><td>"+$(idChecked).html()+"</td><td>"+$(idFind).html()+"</td><td  class='win'>Gagné</td></tr>";
                    $('table tbody').append(markup);
                }
                else
                {
                    $('#info').html('Vous avez perdu la partie en cours.');
                              var markup = "<tr><td>"+$(idChecked).html()+"</td><td>"+$(idFind).html()+"</td><td class='win'>Perdu</td></tr>";
                    $('table tbody').append(markup);
                }
                var countWin=0;
                var countLoose=0;
                var countRows= ($('#tablewin tr').length-1);
                $('#tableTitle').text('Tableau des gains ('+countRows+' élément(s))');
                $('#tablewin tbody tr').each(function() {

                    $.each(this.cells, function(){
                            if($(this).hasClass( "win" ))
                            {
                                 if($(this).text()=="Gagné")
                                     countWin++;
                                 else
                                     countLoose++;
                            }

                    });

                });
                var percentage=((countWin*100)/countRows);
                $('#percentage').html('Le pourcentage de victoire contre l \'ordinateur est de '+Math.round(percentage)+'%')
                $('#nbwin').html("Nombre de partie(s) gagnée(s) "+countWin);
                $('#nbloose').html("Nombre de partie(s) perdue(s) "+countLoose);
        });


    });

    </script>
</body>
</html>
